---
- name: Converge
  hosts: all
  vars:
    goapp_name: app
    goapp_domain: app.example.com
    goapp_database_name: worker_infra
    goapp_database_password: 123
    goapp_database_uri: psql.bayete.com
    goapp_database_user: worker_infra_user
    goapp_version: 0.1
    goapp_release_source: url
    goapp_pip_packages:
      - ansible==2.10.5
    users:
      - first_name: ""
        last_name: Unknown
        username: greg
        password: $6$rounds=656000$U/UO3LDxGOQv181h$RhFOiN5oIu1l79OXkc8AMiGcU0BRC3bCc63utFE5LQ7DHP4HoXpAgCscfVCDZsc0dabYOrsEbvCMXWFGvaVQm1
        email: greg@reinbach.com
        public_keys:
          active: []
          disabled: []
        is_admin: true
        type: admin
        is_active: true
        state: present
  tasks:
    - name: "Include goapp"
      include_role:
        name: "goapp"
